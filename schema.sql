create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
create table adoption_request (adopter_id bigint not null, date timestamp(6), id bigint generated by default as identity, pet_id bigint not null, shelter_id bigint not null, state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table donation (total float(53), date timestamp(6), id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, primary key (id));
create table event (created_at TIMESTAMP not null, id bigint generated by default as identity, description varchar(255) not null, primary key (id));
create table form_field (active boolean not null, id bigint generated by default as identity, field_type varchar(255), question varchar(255), primary key (id));
create table form_field_answers (form_field_id bigint, form_id bigint, id bigint generated by default as identity, answer varchar(255), primary key (id));
create table form_template_fields (form_field_id bigint not null, form_template_id bigint not null);
create table form_templates (id bigint generated by default as identity, name varchar(255), primary key (id));
create table forms (created_at timestamp(6), id bigint generated by default as identity, name varchar(255), type varchar(255), primary key (id));
create table person (cell_phone bigint, id bigint generated by default as identity, nif bigint, postal_code bigint, address1 varchar(255), address2 varchar(255), email varchar(255), first_name varchar(255), last_name varchar(255), password varchar(255), role varchar(255) check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
create table pet (age integer not null check ((age<=99) and (age>=1)), is_adopted boolean not null, is_vaccinated boolean not null, weight float(53) not null, id bigint generated by default as identity, pet_type_id bigint not null unique, shelter_id bigint not null, name varchar(30) not null, color varchar(99) not null, observations varchar(999) not null, size varchar(255) not null check (size in ('SMALL','MEDIUM','LARGE')), primary key (id));
create table pet_breed (id bigint generated by default as identity, description varchar(2048) not null, external_api_id varchar(255) not null, name varchar(255) not null, primary key (id));
create table pet_record (created_at timestamp(6) not null, id bigint generated by default as identity, pet_id bigint not null, updated_at timestamp(6) not null, intervention varchar(999) not null, primary key (id));
create table pet_type (id bigint generated by default as identity, pet_breed_id bigint not null, species varchar(255) not null check (species in ('DOG','CAT','BIRD','FISH','REPTILE','OTHER')), primary key (id));
create table request_details (adoption_request_id bigint, date timestamp(6), id bigint generated by default as identity, person_id bigint, observation varchar(1000), state varchar(255) check (state in ('SENT','VERIFYING_INFORMATION','MISSING_INFORMATION','ACCEPTED','REFUSED')), primary key (id));
create table shelter (is_active boolean, phone integer, size integer check ((size<=1000) and (size>=1)), vat integer, id bigint generated by default as identity, email varchar(50), name varchar(100), address1 varchar(200), address2 varchar(200), postal_code varchar(255), primary key (id));
create table shelter_person_roles (id bigint generated by default as identity, person_id bigint not null, shelter_id bigint not null, role varchar(255) not null check (role in ('MASTER','MANAGER','ADMIN','USER')), primary key (id));
alter table if exists adoption_request add constraint FK9dwtwhoiv7xia2kfwocbmlm1t foreign key (adopter_id) references person;
alter table if exists adoption_request add constraint FKtdj99dn3unagfejemwupfjenu foreign key (pet_id) references pet;
alter table if exists adoption_request add constraint FKgc17r3kghp374flp99uay7jyc foreign key (shelter_id) references shelter;
alter table if exists donation add constraint FKorh2w2onm48otwx9wyodwq67r foreign key (person_id) references person;
alter table if exists donation add constraint FKo1dl78sdnnsvalcwn8gtppc3v foreign key (shelter_id) references shelter;
alter table if exists form_field_answers add constraint FKr6gqo00tlntklh2r7fakmfswn foreign key (form_id) references forms;
alter table if exists form_field_answers add constraint FKng4g6v95osc64iafv5emgjfxe foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKciyn8u9gt6c64tm8lpt1182k1 foreign key (form_field_id) references form_field;
alter table if exists form_template_fields add constraint FKfvq3lkmhyocatd7vehmvieain foreign key (form_template_id) references form_templates;
alter table if exists pet add constraint FKc1u0f9npdkvdswepubsjkdb5f foreign key (pet_type_id) references pet_type;
alter table if exists pet add constraint FKdujrkamkv5tvd3sgqkpu7mwsi foreign key (shelter_id) references shelter;
alter table if exists pet_record add constraint FKq39b1bkhjq32an7lueuwjyabc foreign key (pet_id) references pet;
alter table if exists pet_type add constraint FK6epuxp5rqyq72qhm38efi3cnk foreign key (pet_breed_id) references pet_breed;
alter table if exists request_details add constraint FK6lsvqrchalayt2hya113rjge foreign key (adoption_request_id) references adoption_request;
alter table if exists shelter_person_roles add constraint FK8fjchc326v751n5np01g9vaie foreign key (person_id) references person;
alter table if exists shelter_person_roles add constraint FK770h7lbj44jwkwpm5bclqk99t foreign key (shelter_id) references shelter;
